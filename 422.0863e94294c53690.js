"use strict";(self.webpackChunkgym_angular_excel=self.webpackChunkgym_angular_excel||[]).push([[422],{6422:(be,C,r)=>{r.r(C),r.d(C,{ExcerciseLogsPageComponent:()=>he});var p=r(6895),h=r(433),s=r(8183),m=r(1135),w=r(9841),N=r(8675),J=r(4482),I=r(5403),P=r(8505),u=r(4004),$=r(8746),x=r(6693),d=r(5479);function b(t){return t}var _=r(4893),U=r(4688),j=r(9230);function f(){return(0,U.$)(q,arguments,f.lazy)}function q(t){return(0,j.a)(t,f.lazy())}function Y(t,o){return(0,j.a)(t,L(o))}function L(t){var o=new Set;return function(c){var n=t(c);return o.has(n)?{done:!1,hasNext:!1}:(o.add(n),{done:!1,hasNext:!0,next:c})}}(f||(f={})).lazy=function o(){var c=new Set;return function(n){return c.has(n)?{done:!1,hasNext:!1}:(c.add(n),{done:!1,hasNext:!0,next:n})}};var e=r(1571);let B=(()=>{class t{transform(c){return c??[]}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275pipe=e.Yjl({name:"ifNullEmptyArray",type:t,pure:!0,standalone:!0}),t})();function O(t,o){if(1&t&&(e.TgZ(0,"div",3),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&t){const c=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,c.excerciseRow.excerciseName)," ")}}function D(t,o){if(1&t&&(e.TgZ(0,"div",3),e._uU(1),e.qZA()),2&t){const c=e.oxw(2);e.xp6(1),e.hij(" ",c.excerciseRow.date," ")}}function G(t,o){if(1&t&&(e.TgZ(0,"div",3),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&t){const c=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,c.excerciseRow.username)," ")}}function z(t,o){if(1&t&&(e.TgZ(0,"div",1),e.YNc(1,O,3,3,"div",2),e.YNc(2,D,2,1,"div",2),e.YNc(3,G,3,3,"div",2),e.qZA()),2&t){const c=e.oxw();e.xp6(1),e.Q6J("ngIf",c.showExcercise),e.xp6(1),e.Q6J("ngIf",c.showDate),e.xp6(1),e.Q6J("ngIf",c.showUsername)}}let y=(()=>{class t{constructor(){this.showExcercise=!0,this.showDate=!0,this.showUsername=!0,this.excerciseRow=null}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-excercise-row-title"]],inputs:{showExcercise:"showExcercise",showDate:"showDate",showUsername:"showUsername",excerciseRow:"excerciseRow"},standalone:!0,features:[e.jDz],decls:1,vars:1,consts:[["class","row w-100",4,"ngIf"],[1,"row","w-100"],["class","col d-flex align-items-center justify-content-center text-center",4,"ngIf"],[1,"col","d-flex","align-items-center","justify-content-center","text-center"]],template:function(c,n){1&c&&e.YNc(0,z,4,3,"div",0),2&c&&e.Q6J("ngIf",n.excerciseRow)},dependencies:[p.O5,p.rS],styles:["[_nghost-%COMP%]{display:flex;flex:1}"]}),t})();function X(t,o){if(1&t&&(e.TgZ(0,"tr",4)(1,"td",5),e._uU(2),e.qZA(),e.TgZ(3,"td",6),e._uU(4),e.qZA(),e.TgZ(5,"td",6),e._uU(6),e.qZA()()),2&t){const c=o.$implicit;e.xp6(2),e.hij("Serie ",c.serie,""),e.xp6(2),e.hij("",c.reps," reps"),e.xp6(2),e.hij("",c.weightKg,"kg")}}function M(t,o){if(1&t&&(e.TgZ(0,"tr",4)(1,"td",5),e._uU(2,"Total"),e.qZA(),e.TgZ(3,"td",6),e._uU(4),e.qZA(),e.TgZ(5,"td",6),e._uU(6),e.qZA()()),2&t){const c=e.oxw(2);e.xp6(4),e.hij("",c.excerciseRow.total," reps"),e.xp6(2),e.hij("",c.excerciseRow.series[0].weightKg,"kg")}}function H(t,o){if(1&t&&(e.TgZ(0,"table",1)(1,"tbody"),e.YNc(2,X,7,3,"tr",2),e.YNc(3,M,7,2,"tr",3),e.qZA()()),2&t){const c=e.oxw();e.xp6(2),e.Q6J("ngForOf",c.excerciseRow.series),e.xp6(1),e.Q6J("ngIf",c.excerciseRow.total)}}let A=(()=>{class t{constructor(){this.excerciseRow=null}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-excercise-row-body"]],inputs:{excerciseRow:"excerciseRow"},standalone:!0,features:[e.jDz],decls:1,vars:1,consts:[["class","table table-striped","style","margin: 0",4,"ngIf"],[1,"table","table-striped",2,"margin","0"],["class","row",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"row"],[1,"fw-bold","col"],[1,"col","text-center"]],template:function(c,n){1&c&&e.YNc(0,H,4,2,"table",0),2&c&&e.Q6J("ngIf",n.excerciseRow)},dependencies:[p.ax,p.O5]}),t})();function k(t,o){if(1&t&&e._UZ(0,"app-excercise-row-body",7),2&t){const c=e.oxw().$implicit;e.Q6J("excerciseRow",c)}}function K(t,o){if(1&t&&(e.TgZ(0,"div",4)(1,"h2",5)(2,"button",6),e._UZ(3,"app-excercise-row-title",7),e.qZA()(),e.TgZ(4,"div",8)(5,"div",9),e.YNc(6,k,1,1,"ng-template"),e.qZA()()()),2&t){const c=o.$implicit;e.Q6J("ngClass",c.highlighted?"accordion-highlight "+c.highlighted:null),e.xp6(3),e.Q6J("excerciseRow",c)}}let V=(()=>{class t{constructor(){this.excerciseRows=[]}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-excercise-rows"]],inputs:{excerciseRows:"excerciseRows"},standalone:!0,features:[e.jDz],decls:4,vars:1,consts:[[1,"row","my-2"],[1,"col"],["ngbAccordion",""],["ngbAccordionItem","",3,"ngClass",4,"ngFor","ngForOf"],["ngbAccordionItem","",3,"ngClass"],["ngbAccordionHeader",""],["ngbAccordionButton",""],[3,"excerciseRow"],["ngbAccordionCollapse",""],["ngbAccordionBody",""]],template:function(c,n){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,K,7,2,"div",3),e.qZA()()()),2&c&&(e.xp6(3),e.Q6J("ngForOf",n.excerciseRows))},dependencies:[p.ax,p.mk,s.Gs,s.fD,s.QQ,s.VE,s.I,s.fA,s.ud,y,A]}),t})();function W(t,o){if(1&t&&e._UZ(0,"app-excercise-row-body",14),2&t){const c=e.oxw().$implicit;e.Q6J("excerciseRow",c[1])}}function ee(t,o){if(1&t&&(e.TgZ(0,"div",12)(1,"h2",5)(2,"button",6),e._UZ(3,"app-excercise-row-title",13),e.qZA()(),e.TgZ(4,"div",9)(5,"div",10),e.YNc(6,W,1,1,"ng-template"),e.qZA()()()),2&t){const c=o.$implicit;e.Q6J("ngClass",c[1].highlighted?"accordion-highlight "+c[1].highlighted:null),e.xp6(3),e.Q6J("showUsername",!1)("showExcercise",!1)("excerciseRow",c[1])}}function te(t,o){if(1&t&&(e.TgZ(0,"div",2),e.YNc(1,ee,7,4,"div",11),e.qZA()),2&t){const c=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",c[1])}}function ce(t,o){if(1&t&&(e.TgZ(0,"div",4)(1,"h2",5)(2,"button",6)(3,"div",7)(4,"div",8),e._uU(5),e.ALo(6,"titlecase"),e.qZA()()()(),e.TgZ(7,"div",9)(8,"div",10),e.YNc(9,te,2,1,"ng-template"),e.qZA()()()),2&t){const c=o.$implicit;e.xp6(5),e.hij(" ",e.lcZ(6,1,c[0])," ")}}function oe(t,o){if(1&t&&(e.TgZ(0,"div",2),e.YNc(1,ce,10,3,"div",3),e.qZA()),2&t){const c=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",c[1])}}function ne(t,o){if(1&t&&(e.TgZ(0,"div",4)(1,"h2",5)(2,"button",6)(3,"div",7)(4,"div",8),e._uU(5),e.qZA()()()(),e.TgZ(6,"div",9)(7,"div",10),e.YNc(8,oe,2,1,"ng-template"),e.qZA()()()),2&t){const c=o.$implicit;e.xp6(5),e.hij(" ",c[0]," ")}}let ie=(()=>{class t{constructor(){this.groupedExcerciseLogs=[]}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-grouped-excercise-rows"]],inputs:{groupedExcerciseLogs:"groupedExcerciseLogs"},standalone:!0,features:[e.jDz],decls:4,vars:1,consts:[[1,"row","my-2"],[1,"col"],["ngbAccordion",""],["ngbAccordionItem","",4,"ngFor","ngForOf"],["ngbAccordionItem",""],["ngbAccordionHeader",""],["ngbAccordionButton",""],[1,"row","w-100"],[1,"col","d-flex","align-items-center","justify-content-center","text-center"],["ngbAccordionCollapse",""],["ngbAccordionBody",""],["ngbAccordionItem","",3,"ngClass",4,"ngFor","ngForOf"],["ngbAccordionItem","",3,"ngClass"],[3,"showUsername","showExcercise","excerciseRow"],[3,"excerciseRow"]],template:function(c,n){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,ne,9,1,"div",3),e.qZA()()()),2&c&&(e.xp6(3),e.Q6J("ngForOf",n.groupedExcerciseLogs))},dependencies:[p.ax,s.Gs,s.fD,s.QQ,s.VE,s.I,s.fA,s.ud,p.rS,p.mk,A,y]}),t})();function se(t,o){if(1&t&&e._UZ(0,"app-excercise-row-body",5),2&t){const c=e.oxw();e.Q6J("excerciseRow",c.personalRecord)}}let re=(()=>{class t{constructor(){this.personalRecord=null}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-personal-record"]],inputs:{personalRecord:"personalRecord"},standalone:!0,features:[e.jDz],decls:10,vars:1,consts:[[1,"mb-3"],["ngbAccordion",""],["ngbAccordionItem","",1,"accordion-highlight","light-blue"],["ngbAccordionHeader",""],["ngbAccordionButton",""],[3,"excerciseRow"],["ngbAccordionCollapse",""],["ngbAccordionBody",""]],template:function(c,n){1&c&&(e.TgZ(0,"h5",0),e._uU(1,"Personal record"),e.qZA(),e.TgZ(2,"div",1)(3,"div",2)(4,"h2",3)(5,"button",4),e._UZ(6,"app-excercise-row-title",5),e.qZA()(),e.TgZ(7,"div",6)(8,"div",7),e.YNc(9,se,1,1,"ng-template"),e.qZA()()()()),2&c&&(e.xp6(6),e.Q6J("excerciseRow",n.personalRecord))},dependencies:[y,A,s.Gs,s.fD,s.QQ,s.VE,s.I,s.fA,s.ud],styles:["[_nghost-%COMP%]{display:block}"]}),t})();var T=r(9341),le=r(785);function pe(t,o){if(1&t){const c=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){const l=e.CHM(c).$implicit,a=e.oxw();return e.KtG(a.selectedTypeSubject.next(l))}),e._uU(1),e.ALo(2,"titlecase"),e.qZA()}if(2&t){const c=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,c)," ")}}function ae(t,o){if(1&t){const c=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){const l=e.CHM(c).$implicit,a=e.oxw();return e.KtG(a.selectedExcerciseSubject.next(l))}),e._uU(1),e.ALo(2,"titlecase"),e.qZA()}if(2&t){const c=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,c)," ")}}function de(t,o){if(1&t){const c=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){const l=e.CHM(c).$implicit,a=e.oxw();return e.KtG(a.selectedUsernameSubject.next(l))}),e._uU(1),e.ALo(2,"titlecase"),e.qZA()}if(2&t){const c=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,c)," ")}}function ue(t,o){1&t&&e._UZ(0,"app-personal-record",20),2&t&&e.Q6J("personalRecord",o.ngIf)}function ge(t,o){if(1&t&&(e.TgZ(0,"div",16),e.YNc(1,ue,1,1,"app-personal-record",17),e.ALo(2,"async"),e.TgZ(3,"h5",18),e._uU(4,"Log History"),e.qZA(),e._UZ(5,"app-grouped-excercise-rows",19),e.ALo(6,"ifNullEmptyArray"),e.ALo(7,"async"),e.qZA()),2&t){const c=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,c.personalRecord$)),e.xp6(4),e.Q6J("groupedExcerciseLogs",e.lcZ(6,4,e.lcZ(7,6,c.groupedLogs$)))}}function xe(t,o){1&t&&e._UZ(0,"app-personal-record",20),2&t&&e.Q6J("personalRecord",o.ngIf)}function me(t,o){if(1&t&&(e.TgZ(0,"div",16),e.YNc(1,xe,1,1,"app-personal-record",17),e.ALo(2,"async"),e.TgZ(3,"h5",18),e._uU(4,"Log History"),e.qZA(),e._UZ(5,"app-excercise-rows",21),e.ALo(6,"ifNullEmptyArray"),e.ALo(7,"async"),e.qZA()),2&t){const c=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,c.personalRecord$)),e.xp6(4),e.Q6J("excerciseRows",e.lcZ(6,4,e.lcZ(7,6,c.excerciseRows$)))}}function fe(t,o){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,ge,8,8,"div",15),e.YNc(2,me,8,8,"div",15),e.qZA()),2&t){const c=e.oxw();e.Udp("margin-bottom",5,"rem"),e.xp6(1),e.Q6J("ngIf",c.isGrouped),e.xp6(1),e.Q6J("ngIf",!c.isGrouped)}}function _e(t,o){1&t&&(e.TgZ(0,"div",22)(1,"div",23)(2,"span",24),e._uU(3,"Loading..."),e.qZA()()())}let he=(()=>{class t{constructor(c){this.excerciseLogApiService=c,this.excerciseRowsSubject=new m.X([]),this.types=[],this.selectedTypeSubject=new m.X(null),this.excercisesSubject=new m.X([]),this.selectedExcerciseSubject=new m.X(null),this.usernames=[],this.selectedUsernameSubject=new m.X(null),this.groupedLogsSubject=new m.X([]),this.isGrouped=!1,this.isLoading=!0,this.selectedType$=this.selectedTypeSubject.pipe((0,N.O)(null),function Q(){return(0,J.e)((t,o)=>{let c,n=!1;t.subscribe((0,I.x)(o,i=>{const l=c;c=i,n&&o.next([l,i]),n=!0}))})}(),(0,P.b)(([n,i])=>{if(n===i||!i)return;const l=this.selectedExcerciseSubject.value,a=this.excerciseRowsSubject.value.find(g=>g.excerciseName===l)?.type;i!=a&&this.selectedExcerciseSubject.next(null)}),(0,u.U)(([,n])=>n??"Type")),this.selectedExcercise$=this.selectedExcerciseSubject.pipe((0,u.U)(n=>n??"Excercise")),this.selectedUsername$=this.selectedUsernameSubject.pipe((0,u.U)(n=>n??"Username")),this.excercises$=(0,w.a)([this.excercisesSubject,this.selectedTypeSubject]).pipe((0,u.U)(([n,i])=>i?n.filter(l=>l.type===i):n),(0,u.U)(n=>n.map(i=>i.name))),this.excerciseRows$=(0,w.a)([this.excerciseRowsSubject,this.selectedExcerciseSubject,this.selectedTypeSubject,this.selectedUsernameSubject]).pipe((0,u.U)(([n,i,l,a])=>x.z(n,l?d.h(g=>g.type===l):b,i?d.h(g=>g.excerciseName===i):b,a?d.h(g=>g.username===a):b))),this.groupedLogs$=(0,w.a)([this.groupedLogsSubject,this.selectedExcerciseSubject,this.selectedTypeSubject,this.selectedUsernameSubject]).pipe((0,u.U)(([n,i,l,a])=>x.z(n,_.U(([S,E])=>[S,x.z(E,d.h(([v])=>!a||a===v),_.U(([v,R])=>[v,x.z(R,d.h(([Z,Ze])=>!l||Ze.type===l),d.h(([Z])=>!i||Z===i),d.h(Z=>Z.length>0))]),d.h(([v,R])=>R.length>0))]),d.h(([S,E])=>E.length>0)))),this.personalRecord$=(0,w.a)([this.selectedUsernameSubject,this.selectedExcerciseSubject]).pipe((0,u.U)(([n,i])=>n&&i?(0,T.IA)(this.excerciseRowsSubject.value,i,n):null))}ngOnInit(){this.isLoading=!0,this.excerciseLogApiService.getExcerciseLogs().pipe((0,$.x)(()=>this.isLoading=!1)).subscribe(c=>{this.groupedLogsSubject.next((0,T.S8)(c)),this.excerciseRowsSubject.next((0,T.Cm)(this.groupedLogsSubject.value)),this.types=x.z(c,_.U(i=>i.type),f()),this.usernames=x.z(c,_.U(i=>i.user),f());const n=x.z(c,_.U(i=>({name:i.name,type:i.type})),function F(){return(0,U.$)(Y,arguments,L)}(i=>i.name));this.excercisesSubject.next(n)})}}return t.\u0275fac=function(c){return new(c||t)(e.Y36(le.b))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-excercise-logs-page"]],standalone:!0,features:[e.jDz],decls:43,vars:23,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-6"],["ngbDropdown","",1,"d-flex","justify-content-center"],["type","button","ngbDropdownToggle","",1,"btn","btn-outline-primary","w-100"],["ngbDropdownMenu","",1,"w-100"],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",3,"click",4,"ngFor","ngForOf"],[1,"col-12"],[1,"row"],[1,"form-check","form-switch","d-flex","align-items-center","gap-1"],["type","checkbox","role","switch",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label"],[3,"marginBottom",4,"ngIf","ngIfElse"],["loadingSpinner",""],["class","container",4,"ngIf"],[1,"container"],["class","mb-5",3,"personalRecord",4,"ngIf"],[1,"mb-3"],[3,"groupedExcerciseLogs"],[1,"mb-5",3,"personalRecord"],[3,"excerciseRows"],[1,"d-flex","justify-content-center","align-items-center","p-3"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(c,n){if(1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),e._uU(5),e.ALo(6,"titlecase"),e.ALo(7,"async"),e.qZA(),e.TgZ(8,"div",5)(9,"button",6),e.NdJ("click",function(){return n.selectedTypeSubject.next(null)}),e._uU(10,"Clear filter"),e.qZA(),e.YNc(11,pe,3,3,"button",7),e.qZA()()(),e.TgZ(12,"div",2)(13,"div",3)(14,"button",4),e._uU(15),e.ALo(16,"titlecase"),e.ALo(17,"async"),e.qZA(),e.TgZ(18,"div",5)(19,"button",6),e.NdJ("click",function(){return n.selectedExcerciseSubject.next(null)}),e._uU(20,"Clear filter"),e.qZA(),e.YNc(21,ae,3,3,"button",7),e.ALo(22,"async"),e.qZA()()()(),e.TgZ(23,"div",1)(24,"div",8)(25,"div",3)(26,"button",4),e._uU(27),e.ALo(28,"titlecase"),e.ALo(29,"async"),e.qZA(),e.TgZ(30,"div",5)(31,"button",6),e.NdJ("click",function(){return n.selectedUsernameSubject.next(null)}),e._uU(32,"Clear filter"),e.qZA(),e.YNc(33,de,3,3,"button",7),e.qZA()()()(),e.TgZ(34,"div",9)(35,"div",8)(36,"div",10)(37,"input",11),e.NdJ("ngModelChange",function(l){return n.isGrouped=l}),e.qZA(),e.TgZ(38,"label",12),e._uU(39,"Grouped"),e.qZA()()()()(),e.YNc(40,fe,3,4,"div",13),e.YNc(41,_e,4,0,"ng-template",null,14,e.W1O)),2&c){const i=e.MAs(42);e.xp6(5),e.hij(" ",e.lcZ(6,9,e.lcZ(7,11,n.selectedType$))," "),e.xp6(6),e.Q6J("ngForOf",n.types),e.xp6(4),e.hij(" ",e.lcZ(16,13,e.lcZ(17,15,n.selectedExcercise$))," "),e.xp6(6),e.Q6J("ngForOf",e.lcZ(22,17,n.excercises$)),e.xp6(6),e.hij(" ",e.lcZ(28,19,e.lcZ(29,21,n.selectedUsername$))," "),e.xp6(6),e.Q6J("ngForOf",n.usernames),e.xp6(4),e.Q6J("ngModel",n.isGrouped),e.xp6(3),e.Q6J("ngIf",!n.isLoading)("ngIfElse",i)}},dependencies:[p.ax,p.O5,p.Ov,p.rS,h.u5,h.Wl,h.JJ,h.On,s.XC,s.jt,s.iD,s.Vi,s.TH,re,ie,V,B]}),t})()}}]);