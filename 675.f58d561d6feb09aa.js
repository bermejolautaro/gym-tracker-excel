"use strict";(self.webpackChunkgym_angular_excel=self.webpackChunkgym_angular_excel||[]).push([[675],{3229:(Te,C,r)=>{r.r(C),r.d(C,{ExcerciseLogsPageComponent:()=>ve});var p=r(6895),e=r(1571),f=r(433),s=r(8183),m=r(1135),_=r(9841),J=r(8675),N=r(4482),Q=r(5403),q=r(8505),g=r(4004),P=r(8746),x=r(6693),u=r(5479);function v(c){return c}var Z=r(4688),E=r(9230),B=r(376);function d(){return(0,Z.$)(j(!1),arguments,d.lazy)}var c,j=function(c){return function(o,t){return(0,E.a)(o,c?d.lazyIndexed(t):d.lazy(t),c)}},U=function(c){return function(o){return function(t,n,i){return{done:!1,hasNext:!0,next:c?o(t,n,i):o(t)}}}};(c=d||(d={})).indexed=function o(){return(0,Z.$)(j(!0),arguments,c.lazyIndexed)},c.lazy=U(!1),c.lazyIndexed=(0,B.H)(U(!0)),c.strict=c;var L=r(2771);function Y(c,o){return(0,E.a)(c,S(o))}function S(c){var o=new Set;return function(t){var n=c(t);return o.has(n)?{done:!1,hasNext:!1}:(o.add(n),{done:!1,hasNext:!0,next:t})}}var z=r(223);function D(c,o){if(1&c&&(e.TgZ(0,"div",3),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&c){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.excerciseRow.excerciseName)," ")}}function O(c,o){if(1&c&&(e.TgZ(0,"div",3),e._uU(1),e.qZA()),2&c){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.excerciseRow.date," ")}}function G(c,o){if(1&c&&(e.TgZ(0,"div",3),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&c){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.excerciseRow.username)," ")}}function M(c,o){if(1&c&&(e.TgZ(0,"div",1),e.YNc(1,D,3,3,"div",2),e.YNc(2,O,2,1,"div",2),e.YNc(3,G,3,3,"div",2),e.qZA()),2&c){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.showExcercise),e.xp6(1),e.Q6J("ngIf",t.showDate),e.xp6(1),e.Q6J("ngIf",t.showUsername)}}let b=(()=>{class c{constructor(){this.showExcercise=!0,this.showDate=!0,this.showUsername=!0,this.excerciseRow=null}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-excercise-row-title"]],inputs:{showExcercise:"showExcercise",showDate:"showDate",showUsername:"showUsername",excerciseRow:"excerciseRow"},standalone:!0,features:[e.jDz],decls:1,vars:1,consts:[["class","row w-100",4,"ngIf"],[1,"row","w-100"],["class","col d-flex align-items-center justify-content-center text-center",4,"ngIf"],[1,"col","d-flex","align-items-center","justify-content-center","text-center"]],template:function(t,n){1&t&&e.YNc(0,M,4,3,"div",0),2&t&&e.Q6J("ngIf",n.excerciseRow)},dependencies:[p.O5,p.rS],styles:["[_nghost-%COMP%]{display:flex;flex:1}"]}),c})();function X(c,o){if(1&c&&(e.TgZ(0,"tr",4)(1,"td",5),e._uU(2),e.qZA(),e.TgZ(3,"td",6),e._uU(4),e.qZA(),e.TgZ(5,"td",6),e._uU(6),e.qZA()()),2&c){const t=o.$implicit;e.xp6(2),e.hij("Serie ",t.serie,""),e.xp6(2),e.hij("",t.reps," reps"),e.xp6(2),e.hij("",t.weightKg,"kg")}}function H(c,o){if(1&c&&(e.TgZ(0,"tr",4)(1,"td",5),e._uU(2,"Total"),e.qZA(),e.TgZ(3,"td",6),e._uU(4),e.qZA(),e.TgZ(5,"td",6),e._uU(6),e.qZA()()),2&c){const t=e.oxw(2);e.xp6(4),e.hij("",t.excerciseRow.total," reps"),e.xp6(2),e.hij("",t.excerciseRow.series[0].weightKg,"kg")}}function k(c,o){if(1&c&&(e.TgZ(0,"tr",4)(1,"td",5),e._uU(2,"Average"),e.qZA(),e.TgZ(3,"td",6),e._uU(4),e.qZA(),e.TgZ(5,"td",6),e._uU(6),e.qZA()()),2&c){const t=e.oxw(2);e.xp6(4),e.hij("",t.excerciseRow.average," reps"),e.xp6(2),e.hij("",t.excerciseRow.series[0].weightKg,"kg")}}function K(c,o){if(1&c&&(e.TgZ(0,"table",1)(1,"tbody"),e.YNc(2,X,7,3,"tr",2),e.YNc(3,H,7,2,"tr",3),e.YNc(4,k,7,2,"tr",3),e.qZA()()),2&c){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.excerciseRow.series),e.xp6(1),e.Q6J("ngIf",t.excerciseRow.total),e.xp6(1),e.Q6J("ngIf",t.excerciseRow.average)}}let y=(()=>{class c{constructor(){this.excerciseRow=null}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-excercise-row-body"]],inputs:{excerciseRow:"excerciseRow"},standalone:!0,features:[e.jDz],decls:1,vars:1,consts:[["class","table table-striped m-0",4,"ngIf"],[1,"table","table-striped","m-0"],["class","row",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"row"],[1,"fw-bold","col"],[1,"col","text-center"]],template:function(t,n){1&t&&e.YNc(0,K,5,3,"table",0),2&t&&e.Q6J("ngIf",n.excerciseRow)},dependencies:[p.ax,p.O5]}),c})();function V(c,o){if(1&c&&e._UZ(0,"app-excercise-row-body",7),2&c){const t=e.oxw().$implicit;e.Q6J("excerciseRow",t)}}function W(c,o){if(1&c&&(e.TgZ(0,"div",4)(1,"h2",5)(2,"button",6),e._UZ(3,"app-excercise-row-title",7),e.qZA()(),e.TgZ(4,"div",8)(5,"div",9),e.YNc(6,V,1,1,"ng-template"),e.qZA()()()),2&c){const t=o.$implicit;e.Q6J("ngClass",t.highlighted?"accordion-highlight "+t.highlighted:null),e.xp6(3),e.Q6J("excerciseRow",t)}}let ee=(()=>{class c{constructor(){this.excerciseRows=[]}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-excercise-rows"]],inputs:{excerciseRows:"excerciseRows"},standalone:!0,features:[e.jDz],decls:4,vars:1,consts:[[1,"row","my-2"],[1,"col"],["ngbAccordion",""],["ngbAccordionItem","",3,"ngClass",4,"ngFor","ngForOf"],["ngbAccordionItem","",3,"ngClass"],["ngbAccordionHeader",""],["ngbAccordionButton",""],[3,"excerciseRow"],["ngbAccordionCollapse",""],["ngbAccordionBody",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,W,7,2,"div",3),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("ngForOf",n.excerciseRows))},dependencies:[p.ax,p.mk,s.Gs,s.fD,s.QQ,s.VE,s.I,s.fA,s.ud,b,y]}),c})();function te(c,o){if(1&c&&e._UZ(0,"app-excercise-row-body",14),2&c){const t=e.oxw().$implicit;e.Q6J("excerciseRow",t[1])}}function ce(c,o){if(1&c&&(e.TgZ(0,"div",12)(1,"h2",5)(2,"button",6),e._UZ(3,"app-excercise-row-title",13),e.qZA()(),e.TgZ(4,"div",9)(5,"div",10),e.YNc(6,te,1,1,"ng-template"),e.qZA()()()),2&c){const t=o.$implicit;e.Q6J("ngClass",t[1].highlighted?"accordion-highlight "+t[1].highlighted:null),e.xp6(3),e.Q6J("showUsername",!1)("showDate",!1)("excerciseRow",t[1])}}function oe(c,o){if(1&c&&(e.TgZ(0,"div",2),e.YNc(1,ce,7,4,"div",11),e.qZA()),2&c){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t[1])}}function ne(c,o){if(1&c&&(e.TgZ(0,"div",4)(1,"h2",5)(2,"button",6)(3,"div",7)(4,"div",8),e._uU(5),e.ALo(6,"titlecase"),e.qZA()()()(),e.TgZ(7,"div",9)(8,"div",10),e.YNc(9,oe,2,1,"ng-template"),e.qZA()()()),2&c){const t=o.$implicit;e.xp6(5),e.hij(" ",e.lcZ(6,1,t[0])," ")}}function ie(c,o){if(1&c&&(e.TgZ(0,"div",2),e.YNc(1,ne,10,3,"div",3),e.qZA()),2&c){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t[1])}}function se(c,o){if(1&c&&(e.TgZ(0,"div",4)(1,"h2",5)(2,"button",6)(3,"div",7)(4,"div",8),e._uU(5),e.qZA()()()(),e.TgZ(6,"div",9)(7,"div",10),e.YNc(8,ie,2,1,"ng-template"),e.qZA()()()),2&c){const t=o.$implicit;e.xp6(5),e.hij(" ",t[0]," ")}}let re=(()=>{class c{constructor(){this.groupedExcerciseLogs=[]}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-grouped-excercise-rows"]],inputs:{groupedExcerciseLogs:"groupedExcerciseLogs"},standalone:!0,features:[e.jDz],decls:4,vars:1,consts:[[1,"row","my-2"],[1,"col"],["ngbAccordion",""],["ngbAccordionItem","",4,"ngFor","ngForOf"],["ngbAccordionItem",""],["ngbAccordionHeader",""],["ngbAccordionButton",""],[1,"row","w-100"],[1,"col","d-flex","align-items-center","justify-content-center","text-center"],["ngbAccordionCollapse",""],["ngbAccordionBody",""],["ngbAccordionItem","",3,"ngClass",4,"ngFor","ngForOf"],["ngbAccordionItem","",3,"ngClass"],[3,"showUsername","showDate","excerciseRow"],[3,"excerciseRow"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,se,9,1,"div",3),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("ngForOf",n.groupedExcerciseLogs))},dependencies:[p.ax,s.Gs,s.fD,s.QQ,s.VE,s.I,s.fA,s.ud,p.rS,p.mk,y,b]}),c})();function le(c,o){if(1&c&&e._UZ(0,"app-excercise-row-body",5),2&c){const t=e.oxw();e.Q6J("excerciseRow",t.personalRecord)}}let ae=(()=>{class c{constructor(){this.personalRecord=null}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-personal-record"]],inputs:{personalRecord:"personalRecord"},standalone:!0,features:[e.jDz],decls:10,vars:1,consts:[[1,"mb-3"],["ngbAccordion",""],["ngbAccordionItem","",1,"accordion-highlight","light-blue"],["ngbAccordionHeader",""],["ngbAccordionButton",""],[3,"excerciseRow"],["ngbAccordionCollapse",""],["ngbAccordionBody",""]],template:function(t,n){1&t&&(e.TgZ(0,"h5",0),e._uU(1,"Personal record"),e.qZA(),e.TgZ(2,"div",1)(3,"div",2)(4,"h2",3)(5,"button",4),e._UZ(6,"app-excercise-row-title",5),e.qZA()(),e.TgZ(7,"div",6)(8,"div",7),e.YNc(9,le,1,1,"ng-template"),e.qZA()()()()),2&t&&(e.xp6(6),e.Q6J("excerciseRow",n.personalRecord))},dependencies:[b,y,s.Gs,s.fD,s.QQ,s.VE,s.I,s.fA,s.ud],styles:["[_nghost-%COMP%]{display:block}"]}),c})();var pe=r(785),T=r(7148);function de(c,o){if(1&c){const t=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.selectedTypeSubject.next(l))}),e._uU(1),e.ALo(2,"titlecase"),e.qZA()}if(2&c){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t)," ")}}function ue(c,o){if(1&c){const t=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.selectedExcerciseSubject.next(l))}),e._uU(1),e.ALo(2,"titlecase"),e.qZA()}if(2&c){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t)," ")}}function ge(c,o){if(1&c){const t=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.selectedUsernameSubject.next(l))}),e._uU(1),e.ALo(2,"titlecase"),e.qZA()}if(2&c){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t)," ")}}function xe(c,o){1&c&&e._UZ(0,"app-personal-record",20),2&c&&e.Q6J("personalRecord",o.ngIf)}function me(c,o){if(1&c&&(e.TgZ(0,"div",16),e.YNc(1,xe,1,1,"app-personal-record",17),e.ALo(2,"async"),e.TgZ(3,"h5",18),e._uU(4,"Log History"),e.qZA(),e._UZ(5,"app-grouped-excercise-rows",19),e.ALo(6,"ifNullEmptyArray"),e.ALo(7,"async"),e.qZA()),2&c){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.personalRecord$)),e.xp6(4),e.Q6J("groupedExcerciseLogs",e.lcZ(6,4,e.lcZ(7,6,t.groupedLogs$)))}}function fe(c,o){1&c&&e._UZ(0,"app-personal-record",20),2&c&&e.Q6J("personalRecord",o.ngIf)}function _e(c,o){if(1&c&&(e.TgZ(0,"div",16),e.YNc(1,fe,1,1,"app-personal-record",17),e.ALo(2,"async"),e.TgZ(3,"h5",18),e._uU(4,"Log History"),e.qZA(),e._UZ(5,"app-excercise-rows",21),e.ALo(6,"ifNullEmptyArray"),e.ALo(7,"async"),e.qZA()),2&c){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.personalRecord$)),e.xp6(4),e.Q6J("excerciseRows",e.lcZ(6,4,e.lcZ(7,6,t.excerciseRows$)))}}function he(c,o){if(1&c&&(e.TgZ(0,"div"),e.YNc(1,me,8,8,"div",15),e.YNc(2,_e,8,8,"div",15),e.qZA()),2&c){const t=e.oxw();e.Udp("margin-bottom",5,"rem"),e.xp6(1),e.Q6J("ngIf",t.isGrouped),e.xp6(1),e.Q6J("ngIf",!t.isGrouped)}}function we(c,o){1&c&&(e.TgZ(0,"div",22)(1,"div",23)(2,"span",24),e._uU(3,"Loading..."),e.qZA()()())}let ve=(()=>{class c{constructor(){this.excerciseRowsSubject=new m.X([]),this.types=[],this.selectedTypeSubject=new m.X(null),this.excercisesSubject=new m.X([]),this.selectedExcerciseSubject=new m.X(null),this.usernames=[],this.selectedUsernameSubject=new m.X(null),this.groupedLogsSubject=new m.X([]),this.isGrouped=!1,this.isLoading=!0,this.excerciseLogApiService=(0,e.f3M)(pe.b),this.selectedType$=this.selectedTypeSubject.pipe((0,J.O)(null),function $(){return(0,N.e)((c,o)=>{let t,n=!1;c.subscribe((0,Q.x)(o,i=>{const l=t;t=i,n&&o.next([l,i]),n=!0}))})}(),(0,q.b)(([t,n])=>{if(t===n||!n)return;const i=this.selectedExcerciseSubject.value,l=this.excerciseRowsSubject.value.find(a=>a.excerciseName===i)?.type;n!=l&&this.selectedExcerciseSubject.next(null)}),(0,g.U)(([,t])=>t??"Type")),this.selectedExcercise$=this.selectedExcerciseSubject.pipe((0,g.U)(t=>t??"Excercise")),this.selectedUsername$=this.selectedUsernameSubject.pipe((0,g.U)(t=>t??"Username")),this.excercises$=(0,_.a)([this.excercisesSubject,this.selectedTypeSubject]).pipe((0,g.U)(([t,n])=>n?t.filter(i=>i.type===n):t),(0,g.U)(t=>t.map(n=>n.name))),this.excerciseRows$=(0,_.a)([this.excerciseRowsSubject,this.selectedExcerciseSubject,this.selectedTypeSubject,this.selectedUsernameSubject]).pipe((0,g.U)(([t,n,i,l])=>x.z(t,i?u.h(a=>a.type===i):v,n?u.h(a=>a.excerciseName===n):v,l?u.h(a=>a.username===l):v))),this.groupedLogs$=(0,_.a)([this.groupedLogsSubject,this.selectedExcerciseSubject,this.selectedTypeSubject,this.selectedUsernameSubject]).pipe((0,g.U)(([t,n,i,l])=>x.z(t,d(([I,A])=>[I,x.z(A,u.h(([h])=>!l||l===h),d(([h,R])=>[h,x.z(R,u.h(([w,ye])=>!i||ye.type===i),u.h(([w])=>!n||w===n),u.h(w=>w.length>0))]),u.h(([h,R])=>R.length>0))]),u.h(([I,A])=>A.length>0)))),this.personalRecord$=(0,_.a)([this.selectedUsernameSubject,this.selectedExcerciseSubject]).pipe((0,g.U)(([t,n])=>t&&n?(0,T.IA)(this.excerciseRowsSubject.value,n,t):null))}ngOnInit(){this.isLoading=!0,this.excerciseLogApiService.getExcerciseLogs().pipe((0,P.x)(()=>this.isLoading=!1)).subscribe(t=>{this.groupedLogsSubject.next((0,T.S8)(t)),this.excerciseRowsSubject.next((0,T.Cm)(this.groupedLogsSubject.value)),this.types=x.z(t,d(i=>i.type),L.j()),this.usernames=x.z(t,d(i=>i.user),L.j());const n=x.z(t,d(i=>({name:i.name,type:i.type})),function F(){return(0,Z.$)(Y,arguments,S)}(i=>i.name));this.excercisesSubject.next(n)})}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-excercise-logs-page"]],standalone:!0,features:[e.jDz],decls:43,vars:23,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-6"],["ngbDropdown","",1,"d-flex","justify-content-center"],["type","button","ngbDropdownToggle","",1,"btn","btn-outline-primary","w-100"],["ngbDropdownMenu","",1,"w-100"],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",3,"click",4,"ngFor","ngForOf"],[1,"col-12"],[1,"row"],[1,"form-check","form-switch","d-flex","align-items-center","gap-1"],["type","checkbox","role","switch",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label"],[3,"marginBottom",4,"ngIf","ngIfElse"],["loadingSpinner",""],["class","container",4,"ngIf"],[1,"container"],["class","mb-5",3,"personalRecord",4,"ngIf"],[1,"mb-3"],[3,"groupedExcerciseLogs"],[1,"mb-5",3,"personalRecord"],[3,"excerciseRows"],[1,"d-flex","justify-content-center","align-items-center","p-3"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),e._uU(5),e.ALo(6,"titlecase"),e.ALo(7,"async"),e.qZA(),e.TgZ(8,"div",5)(9,"button",6),e.NdJ("click",function(){return n.selectedTypeSubject.next(null)}),e._uU(10,"Clear filter"),e.qZA(),e.YNc(11,de,3,3,"button",7),e.qZA()()(),e.TgZ(12,"div",2)(13,"div",3)(14,"button",4),e._uU(15),e.ALo(16,"titlecase"),e.ALo(17,"async"),e.qZA(),e.TgZ(18,"div",5)(19,"button",6),e.NdJ("click",function(){return n.selectedExcerciseSubject.next(null)}),e._uU(20,"Clear filter"),e.qZA(),e.YNc(21,ue,3,3,"button",7),e.ALo(22,"async"),e.qZA()()()(),e.TgZ(23,"div",1)(24,"div",8)(25,"div",3)(26,"button",4),e._uU(27),e.ALo(28,"titlecase"),e.ALo(29,"async"),e.qZA(),e.TgZ(30,"div",5)(31,"button",6),e.NdJ("click",function(){return n.selectedUsernameSubject.next(null)}),e._uU(32,"Clear filter"),e.qZA(),e.YNc(33,ge,3,3,"button",7),e.qZA()()()(),e.TgZ(34,"div",9)(35,"div",8)(36,"div",10)(37,"input",11),e.NdJ("ngModelChange",function(l){return n.isGrouped=l}),e.qZA(),e.TgZ(38,"label",12),e._uU(39,"Grouped"),e.qZA()()()()(),e.YNc(40,he,3,4,"div",13),e.YNc(41,we,4,0,"ng-template",null,14,e.W1O)),2&t){const i=e.MAs(42);e.xp6(5),e.hij(" ",e.lcZ(6,9,e.lcZ(7,11,n.selectedType$))," "),e.xp6(6),e.Q6J("ngForOf",n.types),e.xp6(4),e.hij(" ",e.lcZ(16,13,e.lcZ(17,15,n.selectedExcercise$))," "),e.xp6(6),e.Q6J("ngForOf",e.lcZ(22,17,n.excercises$)),e.xp6(6),e.hij(" ",e.lcZ(28,19,e.lcZ(29,21,n.selectedUsername$))," "),e.xp6(6),e.Q6J("ngForOf",n.usernames),e.xp6(4),e.Q6J("ngModel",n.isGrouped),e.xp6(3),e.Q6J("ngIf",!n.isLoading)("ngIfElse",i)}},dependencies:[p.ax,p.O5,p.Ov,p.rS,f.u5,f.Wl,f.JJ,f.On,s.XC,s.jt,s.iD,s.Vi,s.TH,ae,re,ee,z.$]}),c})()}}]);